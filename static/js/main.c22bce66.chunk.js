(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(40)},24:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(9),o=n.n(r),i=(n(24),n(1)),c=n(2),u=n(5),l=n(3),h=n(4),d=n(11),v=n(10),m=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_CODE_LENGTH,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.DEFAULT_CODE_MAXIMUM_DIGIT,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.DEFAULT_MAXIMUM_GUESS_COUNT;Object(i.a)(this,e),this.codeLength=t,this.codeMaximumDigit=n,this.maximumGuessCount=a};m.DEFAULT_CODE_LENGTH=4,m.DEFAULT_CODE_MAXIMUM_DIGIT=5,m.DEFAULT_MAXIMUM_GUESS_COUNT=10;var p=new m,E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;Object(i.a)(this,e),this.settings=t}return Object(c.a)(e,[{key:"createRandom",value:function(){for(var e=[],t=0;t<this.settings.codeLength;t++)e.push(this.randomDigit());return e}},{key:"createManual",value:function(e){var t=Array.from(e);return this.validateCode(t),t}},{key:"resetCode",value:function(e){if(0===e.length)throw new Error("Code is aleady empty");return[]}},{key:"appendCodeToken",value:function(e,t){if(!(e.length<this.settings.codeLength))throw new RangeError("Code is at maximum length ".concat(this.settings.codeLength));this.validateCodeToken(t);var n=Array.from(e);return n.push(t),n}},{key:"removeCodeToken",value:function(e){if(0===e.length)throw new RangeError("Code is already empty");var t=Array.from(e);return t.pop(),t}},{key:"randomDigit",value:function(){return Math.floor(Math.random()*(this.settings.codeMaximumDigit+1))}},{key:"validateCodeToken",value:function(e){if(!(e>=0&&e<=this.settings.codeMaximumDigit))throw new Error("Code token must be digit between 0 and ".concat(this.settings.codeMaximumDigit))}},{key:"validateCode",value:function(e){var t=this;if(e.length!==this.settings.codeLength)throw new Error("Code must be array of length ".concat(this.settings.codeLength));e.forEach(function(e){t.validateCodeToken(e)})}}]),e}(),f=n(12),g=(n(29),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,n=e.value,a=void 0===n?t.EMPTY_VALUE:n,r=e.isClickable,o=void 0!==r&&r,i=e.onClick,c=void 0===i?function(){return!1}:i,u=t.colorOf(a);return s.a.createElement("span",{className:"codePeg codePeg__".concat(u," ").concat(o?"codePeg__selectable":""),onClick:o?function(){return c(a)}:function(){return!1}},a===t.EMPTY_VALUE?"?":"")}}],[{key:"defaultValue",value:function(){return t.EMPTY_VALUE}},{key:"colors",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?t.EMPTY_VALUE+1:t.EMPTY_VALUE;return t.COLORS.slice(0,e)}},{key:"colorOf",value:function(e){return t.COLORS[e]}}]),t}(s.a.Component));g.COLORS=["blue","green","orange","purple","red","yellow","empty"],g.EMPTY_VALUE=6;var b=g,k=(n(30),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.values,n=void 0===t?Object(f.a)(b.colors().keys()):t,a=e.isSelectable,r=void 0!==a&&a,o=e.onSelect,i=void 0===o?function(){return!1}:o,c=[],u=0;u<n.length;u++)c.push(s.a.createElement("li",{key:u},s.a.createElement(b,{value:n[u],isClickable:r,onClick:i})));return s.a.createElement("ul",{className:"codePegList"},c)}}]),t}(s.a.Component)),O=(n(31),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=new E;return s.a.createElement("div",{className:"header clearfix"},s.a.createElement("h1",null,"Mastermind"),s.a.createElement(k,{values:e.createRandom()}))}}]),t}(s.a.Component)),y=n(6),C=(n(32),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.value,n=void 0===e?t.defaultValue():e;return s.a.createElement("span",{className:"keyPeg keyPeg__".concat(t.KEY_NAMES[n])})}}],[{key:"defaultValue",value:function(){return t.KEY_NAMES.indexOf("none")}}]),t}(s.a.Component));C.KEY_NAMES=["position","color","none"];var j=C,G=(n(33),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=this.props.values,t=void 0===e?[]:e,n=Array.from(t);n.length<4;)n.push(j.defaultValue());for(var a=[],r=0;r<n.length;r+=2)a.push(s.a.createElement("tr",{key:r},s.a.createElement("td",null,s.a.createElement(j,{value:n[r]})),s.a.createElement("td",null,s.a.createElement(j,{value:n[r+1]}))));return s.a.createElement("table",{className:"keyPegGrid"},s.a.createElement("tbody",null,a))}}]),t}(s.a.Component)),_=(n(34),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.remainingGuessCount,n=void 0===t?0:t,a=e.guesses,r=void 0===a?[]:a,o=e.keys,i=void 0===o?[]:o,c=[],u=0;u<r.length;u++){for(var l=[],h=0;h<r[u].length;h++)l.push(s.a.createElement("td",{key:"cp".concat(h)},s.a.createElement(b,{value:r[u][h]})));l.push(s.a.createElement("td",{key:"kg".concat(u),className:"keys"},s.a.createElement(G,{values:i[u]})));var d=i[u].every(function(e){return 0===e});c.push(s.a.createElement("tr",{className:!0===d?"solution":"",key:u},l))}return s.a.createElement("table",{className:"decodeGrid"},s.a.createElement("caption",null,n," guess",1!==n?"es":""," remaining"),s.a.createElement("tbody",null,c))}}]),t}(s.a.Component)),S=(n(35),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.isDisabled,a=void 0!==n&&n,r=e.onClick,o=void 0===r?function(){return!1}:r;return s.a.createElement("button",{type:"button",className:"button ".concat(a?"button__disabled":""),disabled:a,onClick:a?function(){return!1}:o},t)}}]),t}(s.a.Component)),A={CHECK_GUESS:"breaker/check",REMOVE_GUESS_TOKEN:"breaker/remove-guess-token",NEW_GAME:"breaker/new-game",RANDOM_GUESS:"breaker/random-guess",RESET_GUESS:"breaker/reset-guess",APPEND_GUESS_TOKEN:"breaker/append-guess-token"},w={REMOVE_CODE_TOKEN:"maker/remove-code-token",RANDOM_CODE:"maker/random-code",RESET_CODE:"maker/reset-code",SAVE_CODE:"maker/save-code",APPEND_CODE_TOKEN:"maker/append-code-token"};function T(){return{type:A.NEW_GAME}}n(36);var N=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleSelect=n.handleSelect.bind(Object(y.a)(n)),n.handleReset=n.handleReset.bind(Object(y.a)(n)),n.handleRandom=n.handleRandom.bind(Object(y.a)(n)),n.handleDelete=n.handleDelete.bind(Object(y.a)(n)),n.handleCheck=n.handleCheck.bind(Object(y.a)(n)),n.handleNewGame=n.handleNewGame.bind(Object(y.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleSelect",value:function(e){var t=this.props,n=t.nextGuess,a=t.length,s=t.dispatch;n.length<a&&s(function(e){return{type:A.APPEND_GUESS_TOKEN,value:e}}(e))}},{key:"handleDelete",value:function(){var e=this.props,t=e.nextGuess,n=e.dispatch;t.length>0&&n({type:A.REMOVE_GUESS_TOKEN})}},{key:"handleReset",value:function(){var e=this.props,t=e.nextGuess,n=e.dispatch;t.length>0&&n({type:A.RESET_GUESS})}},{key:"handleRandom",value:function(){(0,this.props.dispatch)({type:A.RANDOM_GUESS})}},{key:"handleCheck",value:function(){var e=this.props,t=e.maximumGuessCount,n=e.prevGuesses,a=e.nextGuess,s=e.length,r=e.dispatch;a.length===s&&n.length<t&&r({type:A.CHECK_GUESS})}},{key:"handleNewGame",value:function(){(0,this.props.dispatch)(T())}},{key:"padRight",value:function(e,t,n){for(var a=Array.from(e);a.length<t;)a.push(n);return a}},{key:"render",value:function(){var e=this.props,t=e.code,n=e.maximumGuessCount,a=e.length,r=e.nextGuess,o=e.prevGuesses,i=e.prevKeys,c=e.broken,u=Array.from(o),l=Array.from(i),h=!c&&o.length<n,d="Congratualations! You broke the code.";h||c?h&&(u.push(this.padRight(r,a,b.defaultValue())),l.push(Array(a).fill(j.defaultValue())),d="Guess secret code of ".concat(a," colored pegs")):(u.push(t),l.push(Array(a).fill(0)),d="Bummer. You failed to break the code.");var v=[];return h||v.push(s.a.createElement(S,{key:7,label:"New Game",onClick:this.handleNewGame})),s.a.createElement("div",{className:"decodeEditor"},s.a.createElement("p",null,d),s.a.createElement(k,{key:1,values:Object(f.a)(b.colors().keys()),isSelectable:h&&r.length<a,onSelect:this.handleSelect}),s.a.createElement(S,{key:2,label:"Random",isDisabled:!h,onClick:this.handleRandom}),s.a.createElement(S,{key:3,label:"Reset",isDisabled:!h||0===r.length,onClick:this.handleReset}),s.a.createElement(S,{key:4,label:"Delete",isDisabled:!h||0===r.length,onClick:this.handleDelete}),s.a.createElement(S,{key:5,label:"Check",isDisabled:!h||r.length<a,onClick:this.handleCheck}),s.a.createElement(_,{key:6,remainingGuessCount:n-o.length,guesses:u,keys:l}),v)}}]),t}(s.a.Component),D=Object(d.b)(function(e){return{code:e.code,nextGuess:e.nextGuess,maximumGuessCount:e.settings.maximumGuessCount,length:e.settings.codeLength,prevGuesses:e.prevGuesses,prevKeys:e.prevKeys,broken:e.broken}})(N),M=(n(37),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).toggleRules=n.toggleRules.bind(Object(y.a)(n)),n.state={open:!1},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"toggleRules",value:function(){var e=this.state.open;this.setState({open:!e})}},{key:"render",value:function(){var e=this.state.open;return s.a.createElement("div",{className:"rules"},s.a.createElement("span",{className:"rulesToggle",onClick:this.toggleRules},e?"Hide":"Show"," Rules"),s.a.createElement("p",{className:e?"Show":"Hide"},"A codemaker has created a secret pattern of 4 colored pegs. Guess the pegs within 10 turns. A black peg is returned for each peg in your guess that matches the color and position of one peg in the pattern. A white peg is returned for each peg that is the correct color of one peg in the pattern but the incorrect position. A match is counted only once."))}}]),t}(s.a.Component)),R=(n(38),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"singlePlayer clearfix"},s.a.createElement("div",{className:"column sidebar"},s.a.createElement(M,null)),s.a.createElement("div",{className:"column main"},s.a.createElement(D,null)))}}]),t}(s.a.Component)),U=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];Object(i.a)(this,e),this.settings=t,this.code=n,this.nextGuess=a,this.prevGuesses=s,this.prevKeys=r,this.broken=o},x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;Object(i.a)(this,e),this.settings=t}return Object(c.a)(e,[{key:"checkGuess",value:function(t,n){if(t.length!==n.length)throw new Error("Guess length ".concat(n.length," must be equal to code length ").concat(t.length));for(var a=[],s=[],r=[],o=0;o<t.length;o++)t[o]===n[o]?a.push(e.MATCH_KEYS.position):(s.push(t[o]),r.push(n[o]));for(;s.length>0;)for(var i=s.shift(),c=0;c<r.length;c++){var u=r.shift();if(i===u){a.push(e.MATCH_KEYS.color);break}r.push(u)}for(;a.length<t.length;)a.push(e.MATCH_KEYS.none);return a}}]),e}();x.MATCH_KEYS={position:0,color:1,none:2};var K=x,P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new U;Object(i.a)(this,e),this.state=t}return Object(c.a)(e,[{key:"isActive",value:function(){return this.state.code.length>0&&!0!==this.state.broken&&this.state.prevGuesses.length<this.state.settings.maximumGuessCount}},{key:"isSuccess",value:function(){return!0===this.state.broken}},{key:"isFailure",value:function(){return!0!==this.state.broken&&this.state.prevGuesses.length>=this.state.settings.maximumGuessCount}},{key:"copyAndPush",value:function(e,t){var n=Array.from(e);return n.push(Array.from(t)),n}},{key:"checkGuess",value:function(){var e=new K(this.state.settings).checkGuess(this.state.code,this.state.nextGuess),t=e.every(function(e){return e===K.MATCH_KEYS.position});this.state=Object.assign({},this.state,{nextGuess:[],prevGuesses:this.copyAndPush(this.state.prevGuesses,this.state.nextGuess),prevKeys:this.copyAndPush(this.state.prevKeys,e),broken:t})}},{key:"removeGuessToken",value:function(){var e=new E(this.state.settings).removeCodeToken(this.state.nextGuess);this.state=Object.assign({},this.state,{nextGuess:e})}},{key:"newGame",value:function(){var e=new E(this.state.settings).createRandom();this.state=new U(this.state.settings,e)}},{key:"randomGuess",value:function(){var e=new E(this.state.settings).createRandom();this.state=Object.assign({},this.state,{nextGuess:e})}},{key:"resetGuess",value:function(){var e=new E(this.state.settings).resetCode(this.state.nextGuess);this.state=Object.assign({},this.state,{nextGuess:e})}},{key:"appendGuessToken",value:function(e){var t=new E(this.state.settings).appendCodeToken(this.state.nextGuess,e);this.state=Object.assign({},this.state,{nextGuess:t})}},{key:"removeCodeToken",value:function(){var e=new E(this.state.settings).removeCodeToken(this.state.code);this.state=Object.assign({},this.state,{code:e})}},{key:"randomCode",value:function(){var e=new E(this.state.settings).createRandom();this.state=Object.assign({},this.state,{code:e})}},{key:"resetCode",value:function(){var e=new E(this.state.settings).resetCode(this.state.code);this.state=Object.assign({},this.state,{code:e})}},{key:"saveCode",value:function(){var e=new E(this.state.settings).createManual(this.state.code);this.state=Object.assign({},this.state,{code:e})}},{key:"appendCodeToken",value:function(e){var t=new E(this.state.settings).appendCodeToken(this.state.code,e);this.state=Object.assign({},this.state,{code:t})}}]),e}();var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new U,t=arguments.length>1?arguments[1]:void 0,n=new P(e);switch(t.type){case A.CHECK_GUESS:return n.checkGuess(),n.state;case A.REMOVE_GUESS_TOKEN:return n.removeGuessToken(),n.state;case A.NEW_GAME:return n.newGame(),n.state;case A.RANDOM_GUESS:return n.randomGuess(),n.state;case A.RESET_GUESS:return n.resetGuess(),n.state;case A.APPEND_GUESS_TOKEN:return n.appendGuessToken(t.value),n.state;case w.REMOVE_CODE_TOKEN:return n.removeCodeToken(),n.state;case w.RANDOM_CODE:return n.randomCode(),n.state;case w.RESET_CODE:return n.resetCode(),n.state;case w.SAVE_CODE:return n.saveCode(),n.state;case w.APPEND_CODE_TOKEN:return n.appendCodeToken(t.value),n.state;default:return e}},V=(n(39),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).store=Object(v.b)(L),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.store.dispatch(T())}},{key:"render",value:function(){return s.a.createElement(d.a,{store:this.store},s.a.createElement("div",{className:"App"},s.a.createElement(O,null),s.a.createElement(R,null)))}}]),t}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.c22bce66.chunk.js.map